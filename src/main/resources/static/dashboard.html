<!DOCTYPE html>
<html>
<head>
    <title>Security Analytics Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header>
    <h2>Security Analytics Dashboard</h2>
    <button onclick="logout()">Logout</button>
</header>

<!-- CONTROLS -->
<div class="controls">
    <label>Dataset:</label>
    <select id="datasetSelect">
        <option value="cert">CERT Dataset</option>
        <option value="manual">Manual Logins</option>
    </select>

    <label>Differential Privacy (Îµ):</label>
    <select id="epsilon">
        <option value="0.1">0.1 (High Privacy)</option>
        <option value="0.5">0.5</option>
        <option value="1" selected>1 (Balanced)</option>
        <option value="3">3</option>
        <option value="5">5 (Low Privacy)</option>
    </select>

    <button class="primary" onclick="reloadAll()">Load Data</button>
</div>

<!-- LOADING OVERLAY -->
<div id="loading" class="loading-overlay">
    <div class="spinner"></div>
    <p>Loading analytics, please wait...</p>
</div>

<!-- TABS -->
<div class="tabs">
    <button onclick="showTab('logs')">Audit Logs</button>
    <button onclick="showTab('anomaly')">Anomaly Detection</button>
    <button onclick="showTab('time')">Time-Window IDS</button>
    <button onclick="showTab('users')">User Management</button>
</div>

<!-- AUDIT LOGS -->
<div id="logs" class="tab">
    <table id="logTable"></table>
</div>

<!-- ANOMALY -->
<div id="anomaly" class="tab">
    <label>Threshold:</label>
    <select id="threshold">
        <option value="2">2</option>
        <option value="3" selected>3 (Recommended)</option>
        <option value="5">5</option>
    </select>
    <button onclick="loadAnomalies()">Detect</button>
    <table id="anomalyTable"></table>
</div>

<!-- TIME WINDOW -->
<div id="time" class="tab">
    <canvas id="timeChart"></canvas>
</div>

<!-- USER CRUD -->
<div id="users" class="tab">
    <table id="userTable"></table>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="js/dashboard.js"></script>
</body>
</html>
